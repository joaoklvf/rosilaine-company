<div class="d-flex justify-content-between">
  <h1>Pedidos</h1>
  <button
    type="button"
    class="btn btn-primary h-100"
    (click)="addPageNavigate()"
  >
    Adicionar
  </button>
</div>

<div class="accordion mb-3" id="accordionFlushExample">
  <div class="accordion-item">
    <h2 class="accordion-header mb-0">
      <button
        class="accordion-button collapsed"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#flush-collapseOne"
        aria-expanded="false"
        aria-controls="flush-collapseOne"
      >
        Filtrar pedidos
      </button>
    </h2>
    <div
      id="flush-collapseOne"
      class="accordion-collapse collapse"
      data-bs-parent="#accordionFlushExample"
    >
      <div class="accordion-body">
        <div class="row">
          <app-custom-autocomplete
            [label]="'Cliente'"
            (handleOnChange)="setCustomer($event)"
            [data]="customers"
            [displayValue]="'name'"
            class="col-12 mb-2"
            [value]="customer"
          ></app-custom-autocomplete>
          <app-custom-autocomplete
            [label]="'Status'"
            (handleOnChange)="setOrderStatus($event)"
            [data]="orderStatuses"
            [creatable]="true"
            displayValue="description"
            class="col-12 mb-2"
            [value]="status"
          ></app-custom-autocomplete>
          <div class="col">
            <button type="button" class="btn btn-primary float-end" (click)="getOrders()">Buscar</button>
            <button type="button" class="btn btn-secondary float-end me-2" (click)="clearFilters()">Limpar filtros</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-data-table
  [data]="orders"
  [columns]="columns"
  (editAction)="edit($event)"
  (removeAction)="openDialog($event)"
/>
