<div
  class="w-full p-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700 mb-3"
>
  <table
    class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"
  >
    <thead
      class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"
    >
      <tr>
        <th scope="col" class="px-6 py-3">Quantidade</th>
        <th scope="col" class="px-6 py-3">Produto</th>
        <th scope="col" class="px-6 py-3">Status</th>
        <th scope="col" class="px-6 py-3">Data de entrega</th>
        <th scope="col" class="px-6 py-3">De</th>
        <th scope="col" class="px-6 py-3">Por</th>
        <th scope="col" class="px-6 py-3">Total</th>
        <th scope="col" class="px-6 py-3" class="text-center">Ações</th>
      </tr>
    </thead>
    <tbody>
      @for(orderItem of orderItems(); track orderItem){
      <tr
        class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600"
      >
        <td class="px-6 py-3">{{ orderItem.itemAmount }}</td>
        <td class="px-6 py-3">{{ orderItem.product.description }}</td>
        <td class="px-6 py-3">
          <mat-form-field class="w-full">
            <mat-select
              (selectionChange)="changeStatus($event, orderItem)"
              [(value)]="orderItem.itemStatus.id"
            >
              @for (status of statuses(); track status) {
              <mat-option [value]="status.id">
                {{ status.description }}
              </mat-option>
              }
            </mat-select>
          </mat-form-field>
        </td>
        <td class="px-6 py-3">
          <app-br-date-picker
            [label]="'Data de entrega'"
            [value]="orderItem.deliveryDate"
            (handleOnChange)="setDeliveryDate($event, orderItem)"
            (handleDoubleClick)="setDeliveryToday(orderItem)"
          ></app-br-date-picker>
        </td>
        <td class="px-6 py-3">
          {{ getCurrencyValue(orderItem.itemOriginalPrice) }}
        </td>
        <td class="px-6 py-3">
          {{ getCurrencyValue(orderItem.itemSellingPrice) }}
        </td>
        <td class="px-6 py-3">
          {{ getCurrencyValue(orderItem.itemSellingTotal) }}
        </td>
        <td class="td-icons text-center px-6 py-3">
          <button
            type="button"
            class="btn btn-outline-danger me-2"
            title="Remover produto"
            (click)="remove(orderItem)"
          >
            <mat-icon fontIcon="delete" />
          </button>
          <button
            type="button"
            class="btn btn-outline-success me-2"
            title="Editar produto"
            (click)="edit(orderItem)"
          >
            <mat-icon fontIcon="edit" />
          </button>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>
